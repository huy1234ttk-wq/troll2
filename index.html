<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>·ª®ng d·ª•ng QR ‚Äî Troll Notification</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#111827;
      --accent:#f97316;
      --muted:#9ca3af;
    }
    html,body{height:100%;margin:0;font-family:Inter, system-ui, Roboto, "Segoe UI", Arial;}
    body{background:linear-gradient(180deg,#071029 0%, #0b1220 100%); color:#e6eef8; display:flex; align-items:center; justify-content:center; padding:24px;}
    .app {
      width:100%;
      max-width:920px;
      background:rgba(255,255,255,0.02);
      border-radius:14px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.8);
      overflow:hidden;
    }
    header{padding:20px;border-bottom:1px solid rgba(255,255,255,0.03);}
    header h1{margin:0;font-size:18px;letter-spacing:0.2px}
    main{padding:28px;}
    .content {font-size:15px; color:var(--muted); line-height:1.5;}

    /* Troll full-screen modal */
    .troll-modal{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(180deg, rgba(2,6,23,0.85), rgba(2,6,23,0.95));
      z-index:9999;
      padding:22px;
      backdrop-filter: blur(6px);
      animation:fadeIn .25s ease-out both;
    }
    @keyframes fadeIn{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:none}}
    .troll-card{
      width:100%;
      max-width:760px;
      border-radius:12px;
      background:linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      padding:26px;
      box-shadow:0 20px 50px rgba(2,6,23,0.7);
      text-align:left;
      position:relative;
      color:#fff;
    }
    .troll-title{font-size:22px; margin:0 0 8px 0; color:var(--accent);}
    .troll-body{font-size:16px; color:#e6eef8; margin-bottom:18px}
    .troll-options{display:flex; gap:12px; flex-wrap:wrap}
    .btn{
      background:transparent;
      color:inherit;
      border:1px solid rgba(255,255,255,0.08);
      padding:10px 14px;
      border-radius:10px;
      cursor:pointer;
      font-weight:600;
      transition: all .14s ease;
      backdrop-filter: blur(2px);
    }
    .btn:hover{transform:translateY(-3px)}
    .btn.primary{
      background:linear-gradient(90deg,var(--accent), #fbbf24);
      color:#071026;
      border:0;
      box-shadow: 0 8px 22px rgba(249,115,22,0.18);
    }
    .mini{
      font-size:13px;color:var(--muted);
      margin-top:12px;
    }

    /* optional fake "system" bar at top of card */
    .sysbar{position:absolute;left:0;right:0;top:0;height:10px;background:linear-gradient(90deg,#f97316,#f59e0b); border-top-left-radius:12px;border-top-right-radius:12px}
    @media (max-width:560px){
      .troll-card{padding:18px}
      .troll-title{font-size:18px}
    }
  </style>
</head>
<body>
  <div class="app" role="main">
    <header><h1>·ª®ng d·ª•ng demo ‚Äî QR Troll</h1></header>
    <main>
      <div class="content">
        ƒê√¢y l√† trang demo. Khi ng∆∞·ªùi d√πng qu√©t QR v√† v√†o trang n√†y, m·ªôt m√†n h√¨nh th√¥ng b√°o "troll" (gi·∫£ l·∫≠p th√¥ng b√°o b·∫•t ng·ªù) s·∫Ω xu·∫•t hi·ªán.
      </div>
    </main>
  </div>

  <!-- Modal hi·ªÉn th·ªã khi ƒë·∫øn t·ª´ QR (m·∫∑c ƒë·ªãnh hi·ªÉn th·ªã lu√¥n) -->
  <div id="trollModal" class="troll-modal" aria-hidden="false" role="dialog" aria-label="Th√¥ng b√°o">
    <div class="troll-card" role="document">
      <div class="sysbar" aria-hidden="true"></div>
      <h2 class="troll-title">‚ö†Ô∏è Th√¥ng b√°o quan tr·ªçng</h2>
      <p class="troll-body" id="trollText">
        Xin ch√∫c m·ª´ng ‚Äî b·∫°n v·ª´a b·ªã troll! üòÑ<br>
        ƒê√¢y ch·ªâ l√† m·ªôt tr√≤ ƒë√πa vui. Mu·ªën ti·∫øp t·ª•c d√πng app th√¨ b·∫•m "OK" nh√©.
      </p>

      <div class="troll-options">
        <button id="btnOk" class="btn primary">OK, ti·∫øp t·ª•c</button>
        <button id="btnShare" class="btn">Chia s·∫ª (ch·ªâ ƒë·ªÉ tr√™u)</button>
        <button id="btnClose" class="btn">Tho√°t</button>
      </div>
      <p class="mini">B·∫°n c√≥ th·ªÉ ·∫©n th√¥ng b√°o n√†y b·∫±ng c√°ch ch·ªçn "OK" ‚Äî ho·∫∑c n·∫øu mu·ªën, thay n·ªôi dung b·∫±ng l·ªùi nh·∫Øn kh√°c.</p>
    </div>
  </div>

  <script>
    // C·∫•u h√¨nh: n·∫øu b·∫°n mu·ªën ch·ªâ hi·ªán m√†n troll khi c√≥ param ?troll=1, b·∫≠t ƒëi·ªÅu ki·ªán d∆∞·ªõi
    const requireParam = false; // ƒë·ªïi th√†nh true n·∫øu ch·ªâ hi·ªán khi c√≥ ?troll=1
    const modal = document.getElementById('trollModal');
    const btnOk = document.getElementById('btnOk');
    const btnClose = document.getElementById('btnClose');
    const btnShare = document.getElementById('btnShare');

    function urlHasParam(name) {
      return new URLSearchParams(window.location.search).has(name);
    }

    function showModal(){
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
      // optional: trap focus for accessibility (simple)
      btnOk.focus();
    }
    function hideModal(){
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
    }

    // T√πy ch·ªçn: n·∫øu requireParam = true th√¨ ch·ªâ show khi ?troll=1
    if (!requireParam || urlHasParam('troll')) {
      // show after tiny delay so page layout settles
      setTimeout(showModal, 200);
    } else {
      hideModal();
    }

    // Buttons
    btnOk.addEventListener('click', () => {
      // mark in localStorage ƒë·ªÉ l·∫ßn sau kh√¥ng hi·ªán n·ªØa (tu·ª≥ ch·ªçn)
      try { localStorage.setItem('seenTroll', '1'); } catch(e){}
      hideModal();
    });

    btnClose.addEventListener('click', () => {
      // redirect ra n∆°i kh√°c, ho·∫∑c ƒë√≥ng tab (kh√¥ng th·ªÉ ƒë√≥ng tab b·∫±ng JS th∆∞·ªùng)
      window.location.href = 'about:blank';
    });

    btnShare.addEventListener('click', () => {
      const shareUrl = window.location.href;
      if (navigator.share) {
        navigator.share({title:'ƒê√£ b·ªã troll üòÇ', text:'M√¨nh v·ª´a b·ªã troll th·ª≠ n√®!', url: shareUrl});
      } else {
        // fallback: copy link
        navigator.clipboard?.writeText(shareUrl).then(() => {
          alert('Link ƒë√£ ƒë∆∞·ª£c copy ‚Äî g·ª≠i cho ai b·∫°n mu·ªën tr√™u!');
        }).catch(()=> alert('Kh√¥ng copy ƒë∆∞·ª£c. Link: ' + shareUrl));
      }
    });

    // Optionally: if user already saw it and you want to skip on subsequent loads:
    try {
      if (localStorage.getItem('seenTroll') === '1') {
        hideModal();
      }
    } catch(e){}
  </script>
</body>
</html>
